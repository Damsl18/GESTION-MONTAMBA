<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Paiement - √âcole Mont Amba</title>
  <style>
    :root {
      --primary: #244f9e;
      --primary-dark: #16346c;
      --bg: #eef3fb;
      --success: #2ecc71;
      --danger: #e74c3c;
      --border: #d9e2f1;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #244f9e, #4e8cd9);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .container {
      width: 600px;
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
      padding: 32px 28px;
      position: relative;
    }

    .logo {
      text-align: center;
      margin-bottom: 10px;
      font-weight: 700;
      color: var(--primary);
      letter-spacing: 0.5px;
    }

    h2 {
      text-align: center;
      color: #1a2e4b;
      margin-bottom: 8px;
    }

    .subtitle {
      text-align: center;
      font-size: 0.9rem;
      color: #667;
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-top: 14px;
      font-weight: 600;
      color: #1a2e4b;
      font-size: 0.9rem;
    }

    input, select {
      width: 100%;
      padding: 10px 12px;
      margin-top: 6px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: #fafcff;
      outline: none;
      transition: all .25s ease;
      font-size: 0.92rem;
    }

    input:focus, select:focus {
      border-color: var(--primary);
      background: #fff;
      box-shadow: 0 0 0 3px rgba(36, 79, 158, .12);
    }

    .error-text {
      color: var(--danger);
      font-size: 0.8rem;
      margin-top: 3px;
      display: none;
    }

    button {
      margin-top: 24px;
      width: 100%;
      padding: 12px;
      background: var(--primary);
      color: #fff;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: 600;
      letter-spacing: 0.3px;
      cursor: pointer;
      transition: background .25s ease, transform .15s ease;
    }

    button:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
    }

    .message {
      margin-top: 14px;
      text-align: center;
      font-size: 0.9rem;
      font-weight: 600;
      display: none;
    }

    .success {
      color: var(--success);
    }

    .danger {
      color: var(--danger);
    }
  </style>
</head>
<body>

  <div class="container">
    <div class="logo">√âCOLE MONT AMBA</div>
    <h2>Paiement s√©curis√©</h2>
    <p class="subtitle">Veuillez renseigner correctement les informations du paiement</p>

    <form id="paymentForm" novalidate>

      <label for="code">Code d‚Äôauthentification</label>
      <input type="password" id="code" name="code" placeholder="Ex: 202001" required minlength="4">
      <div class="error-text" id="codeError">Le code doit contenir au moins 4 caract√®res.</div>

      <label for="id">ID de l‚Äô√©l√®ve</label>
      <input type="text" id="id" name="id" placeholder="Ex: 2026-001" required>
      <div class="error-text" id="idError">Veuillez saisir un ID valide.</div>

      <label for="classe">Classe</label>
      <input type="text" id="classe" name="classe" placeholder="Ex: 3√®me Scientifique" required>
      <div class="error-text" id="classeError">Veuillez saisir la classe.</div>

      <label for="reference">Num√©ro de r√©f√©rence</label>
      <input type="text" id="reference" name="reference" placeholder="HLN-2026-150520" required>
      <div class="error-text" id="referenceError">Num√©ro de r√©f√©rence requis.</div>

      <label for="banque">Banque</label>
      <select id="banque" name="banque" required>
        <option value="">--S√©lectionnez--</option>
        <option value="rawbank">Rawbank</option>
        <option value="equity">Equity</option>
        
        
      </select>
      <div class="error-text" id="banqueError">Veuillez s√©lectionner une banque.</div>

      <label for="transaction">Num√©ro de transaction du bordereau</label>
      <input type="text" id="transaction" name="transaction" placeholder="Ex: TRX895746" required>
      <div class="error-text" id="transactionError">Num√©ro de transaction requis.</div>

      <label for="montant">Montant √† payer </label>
      <input type="number" id="montant" name="montant" min="1" placeholder="Entrez le montant" required>
      <div class="error-text" id="montantError">Le montant doit √™tre sup√©rieur √† 0.</div>
      <label for="devise">Devise </label>
         <select id="devise" name="devise" required>
            <option value="">--S√©lectionnez--</option>
            <option value="usd">USD</option>
            <option value="cdf">CDF</option>
        </select>      

      <label for="motif">Motif du paiement</label>
      <select id="motif" name="motif" required>
        <option value="">--S√©lectionnez le motif--</option>
        <option value="frais_scolarite">Frais de scolarit√©</option>
        <option value="frais_inscription">Frais d‚Äôinscription</option>
        <option value="frais_examen">Frais d‚Äôexamen</option>
        <option value="transport">Transport scolaire</option>
        <option value="cantine">Cantine</option>
      </select>
      <div class="error-text" id="motifError">Veuillez s√©lectionner le motif du paiement.</div>

      <label for="moyen">Moyen de paiement</label>
      <select id="moyen" name="moyen" required>
        <option value="">--S√©lectionnez--</option>
        <option value="orange_money">Orange Money</option>
        <option value="airtel_money">Airtel Money</option>
        <option value="mpsa">M-Pesa</option>
        <option value="afri_money">Afri Money</option>
        <option value="rawbank">Rawbank</option>
        <option value="equity">Equity</option>
      </select>
      <div class="error-text" id="moyenError">Veuillez choisir un moyen de paiement.</div>

      <button type="submit">Valider le paiement</button>
      <div class="message" id="formMessage"></div>
    
    </form>
  </div>

  <!-- MODAL R√âSUM√â DU PAIEMENT -->
  <div id="resumeOverlay" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(3px);align-items:center;justify-content:center;z-index:9999;">
    <div style="background:#fff;border-radius:14px;width:420px;padding:24px 22px;box-shadow:0 25px 50px rgba(0,0,0,.2);">
      <h3 style="text-align:center;color:#1a2e4b;margin-bottom:10px;">R√©sum√© du paiement</h3>
      <p style="text-align:center;color:#667;margin-bottom:16px;font-size:0.9rem">Veuillez v√©rifier les informations avant validation d√©finitive</p>

      <div style="font-size:0.95rem;color:#233;line-height:1.6">
        <p><strong>ID √âl√®ve :</strong> <span id="r_id"></span></p>
        <p><strong>Classe :</strong> <span id="r_classe"></span></p>
        <p><strong>R√©f√©rence :</strong> <span id="r_reference"></span></p>
        <p><strong>Banque :</strong> <span id="r_banque"></span></p>
        <p><strong>Transaction :</strong> <span id="r_transaction"></span></p>
        <p><strong>Motif :</strong> <span id="r_motif"></span></p>
        <p><strong>Montant :</strong> $<span id="r_montant"></span></p>
        <p><strong>Moyen de paiement :</strong> <span id="r_moyen"></span></p>
      </div>

      <div style="display:flex;gap:10px;margin-top:18px;">
        <button id="cancelResume" style="flex:1;padding:10px;border-radius:10px;border:none;background:#bdc3c7;font-weight:600;cursor:pointer">Modifier</button>
        <button id="confirmResume" style="flex:1;padding:10px;border-radius:10px;border:none;background:#244f9e;color:#fff;font-weight:600;cursor:pointer">Confirmer</button>
      </div>
    </div>
  </div>

  <script>
    const form = document.getElementById('paymentForm');

    function showError(inputId, errorId, condition) {
      const error = document.getElementById(errorId);
      if (condition) {
        error.style.display = 'block';
        return true;
      } else {
        error.style.display = 'none';
        return false;
      }
    }

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      let hasError = false;

      hasError |= showError('code', 'codeError', document.getElementById('code').value.trim().length < 4);
      hasError |= showError('id', 'idError', document.getElementById('id').value.trim() === '');
      hasError |= showError('classe', 'classeError', document.getElementById('classe').value.trim() === '');
      hasError |= showError('reference', 'referenceError', document.getElementById('reference').value.trim() === '');
      hasError |= showError('banque', 'banqueError', document.getElementById('banque').value === '');
      hasError |= showError('transaction', 'transactionError', document.getElementById('transaction').value.trim() === '');

      const montant = Number(document.getElementById('montant').value);
      hasError |= showError('montant', 'montantError', isNaN(montant) || montant <= 0);

      hasError |= showError('moyen', 'moyenError', document.getElementById('moyen').value === '');
      hasError |= showError('motif', 'motifError', document.getElementById('motif').value === '');

      const message = document.getElementById('formMessage');

      if (hasError) {
        message.style.display = 'block';
        message.className = 'message danger';
        message.textContent = 'Veuillez corriger les erreurs avant de continuer.';
        return;
      }

      // ------------------ AFFICHAGE DU R√âSUM√â ------------------
      document.getElementById('r_id').textContent = document.getElementById('id').value;
      document.getElementById('r_classe').textContent = document.getElementById('classe').value;
      document.getElementById('r_reference').textContent = document.getElementById('reference').value;
      document.getElementById('r_banque').textContent = document.getElementById('banque').options[banque.selectedIndex].text;
      document.getElementById('r_transaction').textContent = document.getElementById('transaction').value;
      document.getElementById('r_motif').textContent = document.getElementById('motif').options[motif.selectedIndex].text;
      document.getElementById('r_montant').textContent = document.getElementById('montant').value;
      document.getElementById('r_moyen').textContent = document.getElementById('moyen').options[moyen.selectedIndex].text;

      document.getElementById('resumeOverlay').style.display = 'flex';
    });

    document.getElementById('cancelResume').addEventListener('click', () => {
      document.getElementById('resumeOverlay').style.display = 'none';
    });

    document.getElementById('confirmResume').addEventListener('click', () => {
      document.getElementById('resumeOverlay').style.display = 'none';

      const message = document.getElementById('formMessage');
      message.style.display = 'block';
      message.className = 'message success';
      message.textContent = 'Paiement valid√© avec succ√®s ‚úî (simulation)';

      // üëâ Ici tu peux envoyer d√©finitivement au backend
      // const data = new FormData(form);
      // fetch('traitement.php', { method: 'POST', body: data });
    });
    
  </script>

</body>
</html>